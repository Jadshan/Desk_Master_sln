<section class="example-container mat-elevation-z8" tabindex="0">
 <mat-card style="min-height: 500px;" class="tableCard">
  <mat-card-header>
   <h1>Employee Details</h1>
  </mat-card-header>
  <mat-card-content>
   <!-- <table mat-table [dataSource]="employeeData" multiTemplateDataRows class="mat-elevation-z8">

    <ng-container *ngFor="let innerColumn of columnsToDisplay" matColumnDef="{{innerColumn}}">
     <th mat-header-cell *matHeaderCellDef>{{innerColumn | titlecase}}</th>
     <td mat-cell *matCellDef="let element">
      {{element[innerColumn]}}
     </td>
    </ng-container>

    <ng-container matColumnDef="expand">
     <th mat-header-cell *matHeaderCellDef aria-label="row actions">&nbsp;</th>
     <td mat-cell *matCellDef="let element">
      <button mat-icon-button aria-label="expand row"
       (click)="(expandedElement = expandedElement === element ? null : element); $event.stopPropagation()">
       <mat-icon *ngIf="expandedElement === element">keyboard_arrow_up</mat-icon>
       <mat-icon *ngIf="expandedElement !== element">keyboard_arrow_down</mat-icon>
      </button>
     </td>
    </ng-container>

    <ng-container matColumnDef="expandedDetail">
     <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplayWithExpand.length">
      <div class="example-element-detail" [@detailExpand]="element === expandedElement ? 'expanded': 'collapsed'">

       <div style="width: 100%;" *ngIf="element.contactDetails">
        <h4>Contact Details</h4>

        <table mat-table [dataSource]="element.contactDetails" multiTemplateDataRows
         class="mat-elevation-z8 inner-table">
         <ng-container *ngFor="let innerColumn of columnsWithContactDetails" matColumnDef="{{innerColumn}}">
          <th mat-header-cell *matHeaderCellDef>{{innerColumn | titlecase}}</th>
          <td mat-cell *matCellDef="let element">
           {{element[innerColumn]}}
          </td>
         </ng-container>

         <tr mat-header-row *matHeaderRowDef="columnsWithContactDetails"
          style="background-color: rgb(174, 162, 162);color: white;"></tr>
         <tr mat-row *matRowDef="let element; columns: columnsWithContactDetails;" class="example-element-row">
         </tr>
        </table>
       </div>

       <div style="width: 100%;" *ngIf="element.bankDetails">
        <h4>Bank Details</h4>

        <table mat-table [dataSource]="element.bankDetails" multiTemplateDataRows class="mat-elevation-z8 inner-table">
         <ng-container *ngFor="let innerColumn of columnsWithBankDetails" matColumnDef="{{innerColumn}}">
          <th mat-header-cell *matHeaderCellDef>{{innerColumn | titlecase}}</th>
          <td mat-cell *matCellDef="let element">
           {{element[innerColumn]}}
          </td>
         </ng-container>

         <tr mat-header-row *matHeaderRowDef="columnsWithBankDetails"
          style="background-color: rgb(174, 162, 162);color: white;"></tr>
         <tr mat-row *matRowDef="let element; columns: columnsWithBankDetails;" class="example-element-row">
         </tr>
        </table>
       </div>

      </div>
     </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="columnsToDisplayWithExpand" style="background-color: black;color: white;"></tr>
    <tr mat-row *matRowDef="let element; columns: columnsToDisplayWithExpand;" class="example-element-row"
     (click)="toggle(element)">
    </tr>
    <div *ngIf="isExpanded"></div>
    <tr mat-row *matRowDef="let row; columns: ['expandedDetail'];" class="expanded-row">
    </tr>
   </table> -->



   @if (employeeData.length > 1) {
   <table mat-table [dataSource]="employeeData" class="mat-elevation-z8">
    <!-- Define Columns -->
    @for (column of employColumns; track column) {
    <ng-container [matColumnDef]="column">
     <th mat-header-cell *matHeaderCellDef>{{ column | titlecase }}</th>
     <td mat-cell *matCellDef="let element">{{ element[column] }}</td>
    </ng-container>
    }
    <!-- Action Column Def -->
    <ng-container matColumnDef="actions">
     <th mat-header-cell *matHeaderCellDef>Action</th>
     <td mat-cell *matCellDef="let element">
      <button mat-icon-button color="accent">
       <mat-icon>visibility</mat-icon>
      </button>
      <button mat-icon-button color="primary">
       <mat-icon>edit</mat-icon>
      </button>
      <button mat-icon-button color="warn">
       <mat-icon>delete</mat-icon>
      </button>
     </td>
    </ng-container>

    <!-- Define Header Row -->
    <tr mat-header-row *matHeaderRowDef="employColumnsToDisplay.concat('actions')"></tr>

    <!-- Define Data Rows -->
    <tr mat-row *matRowDef="let row; columns: employColumnsToDisplay.concat('actions');"></tr>
   </table>
   }



  </mat-card-content>
 </mat-card>
</section>